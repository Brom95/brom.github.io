---
title: "(Не)изменяемые строки в dotnet"
date: 2023-01-02T08:21:49+03:00
draft: true
description: Однажды кто-то принес задачу с собеседования "изменить строку в dotnet". Эта задача показалась мне чрезвычайно любопытной не столько в своем решении, сколько в своей формулировке. И вот, я готов представить два способа ее решения.
---

Строки в dotnet являются предназначенной только для чтения последовательностью `Char`-ов. В этом не сложно убедиться открыв [документацию Microsoft](https://learn.microsoft.com/ru-ru/dotnet/csharp/programming-guide/strings/) посвященную строкам. Там же в секции "Неизменность строк" сказано следующее: "Может показаться, что все методы String и операторы C# изменяют строку, но в действительности они возвращают результаты в новый строковый объект". Согласно документации, изменить строки нельзя.

Однако жизнь не всегда согласуется с документацией. Однажды в один из чатов пришел человек, которому на собеседовании задали задачу: "изменить строку с помощью C#". Из документации нам известно, что строки в dotnet являются неизменяемыми объектами, по этому делаем вывод, что те, кто эту задачу поставил знают что-то, что не знаем мы.

## Способ 1

Мы не можем изменять строки, но можем ли мы изменять то, из чего строки состоят? Как мы уже знаем, строка это последовательность `Char`-ов, а про неизменяемость [коллекций](https://learn.microsoft.com/ru-ru/dotnet/standard/collections/) или [`Char`-ов](https://learn.microsoft.com/ru-ru/dotnet/csharp/language-reference/builtin-types/char) в документации информации нет. Однако там же нет и информации о том, как получить коллекцию на которой построена наша строка. Зато есть обратная операция -- из указателя на коллекцию создается новая строка. 

## Способ 2