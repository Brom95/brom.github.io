---
title: "Обзор книги \"Чистая Архитектура\" Р. Мартин"
date: 2022-11-18T21:38:00+03:00
draft: false
description: Обзор и личное мнение касательно одной из самых известных и обсуждаемых книг по архитектуре. 
---

![Обложка книги](/assets/images/clear_architect.jpg)

## О чем книга?

Книга посвящена, как следует из названия, вопросам построения чистой архитектуры и различных вопросов, лежащих в смежных областях. Отдельное внимание автор уделяет SOLID, тестируемости кода и месту тестов в архитектуре приложения. На фоне "чистого кода" книга выглядит гораздо менее категоричной и имеет достаточно примеров того, как чрезмерное увлечение "большим и правильным" способно погубить проект.  

## Что нашел полезным для себя?

- Возможность изменений ценнее работоспособности. Приложение, которое легко изменять, почти всегда можно привести к рабочему состоянию, но работающее приложение, которое трудно изменять, после внесения изменений будет тяжело привести обратно в рабочее состояние;
- Принцип единой ответственности в большей степени относится к акторам, чем к функциональному назначению класса. Т.е. имеется в виду не причина, по которой должен меняться класс, а источник этих изменений;
- Нашел любопытной мысль о том, что разделение интерфейсов (ISP) -- это проблема языка, а не архитектуры.
- Понравились определения:
  - **Бизнес-правило** -- действие, приносящее или экономящее деньги, не зависимо от того, выполняется ли оно вручную или автоматизированной системой.
  - **Вариант использования** -- описывает, как и когда вызываются бизнес-правила в рамках автоматизированной системы.
- Службы независимы на уровне отдельных переменных, но они, по меньшей мере, связаны общими данными.
- Приведенный ниже фрагмент из книги также напомнил мне [одну старую статью с Хабра](https://habr.com/ru/post/312022/) ![забавный фрагмент из книги](/assets/images/clear_architect2.jpg)

## Кому подойдет?

- Архитекторам (кто бы мог подумать?);
- Старшим разработчикам, принимающим архитектурные решения (как касательно архитектуры кода, так и касательно архитектуры приложения).
- Младшим разработчикам, желающим понять, почему старшие коллеги требуют от них строить код именно так, как они требуют (или чтобы найти аргументы против того, чтобы так делать). 

## Кому не подойдет?

- Тем, для кого "чистая архитектура" -- это фабрика фабрик.

## Оглавление

1. Что такое дизайн и архитектура?
    - Цель?
    - Пример из практики
    - Заключение
2. История о двух ценностях
    - Поведение
    - Архитектура
    - Наибольшая ценность
    - Матрица Эйзенхауэра
    - Битва за архитектуру

3. Обзор парадигм
    - Структурное программирование
    - Объектно-ориентированное программирование
    - Функциональное программирование
    - Пища для ума
    - Заключение
4. Структурное программирование
    - Доказательство
    - Объявление вредным
    - Функциональная декомпозиция
    - Формальные доказательства отсутствуют
    - Наука во спасение
    - Тестирование
    - Заключение
5. Объектно- ориентированное программирование
    - Инкапсуляция?
    - Наследование?
    - Полиморфизм?
    - Заключение
6. Функциональное программирование
    - Квадраты целых чисел
    - Неизменяемость и архитектура
    - Ограничение изменяемости
    - Регистрация событий
    - Заключение
7. Принцип единственной ответственности
    - Признак 1: непреднамеренное дублирование
    - Признак 2: слияния
    - Решения
    - Заключение
8. Принцип открытости/закрытости
    - Мысленный эксперимент
    - Управление направлением
    - Сокрытие информации
    - Заключение
9. Принцип подстановки Барбары Лисков
    - Руководство по использованию наследования
    - Проблема квадрат/прямоугольник
    - LSP и архитектура
    - Пример нарушения LSP
    - Заключение
10. Принцип разделения интерфейсов
    - Принцип разделения интерфейсов и язык
    - Принцип разделения интерфейсов и архитектура
    - Заключение
11. Принцип инверсии зависимости
    - Стабильные абстракции
    - Фабрики
    - Конкретные компоненты
    - Заключение
12. Компоненты
    - Краткая история компонентов
    - Перемещаемость
    - Компоновщики
    - Заключение
13. Связность компонентов
    - Принцип эквивалентности повторного использования и выпусков
    - Принцип согласованного изменения
    - Принцип совместного повторного использования
    - Диаграмма противоречий для определения связности компонентов
    - Заключение
14. Сочетаемость компонентов
    - Принцип ацикличности зависимостей
    - Проектирование сверху вниз
    - Принцип устойчивых зависимостей
    - Принцип устойчивости абстракций
    - Заключение
15. Что такое архитектура
    - Разработка
    - Развертывание
    - Эффективность работы
    - Сопровождение
    - Сохранение разнообразия вариантов
    - Независимость от устройства
    - Нежелательная почта
    - Физическая адресация
    - Заключение
16. Независимость
    - Варианты использования
    - Эффективность работы
    - Разработка
    - Развертывание
    - Сохранение разнообразия вариантов
    - Разделение уровней
    - Разделение вариантов использования
    - Режим разделения
    - Возможность независимой разработки
    - Возможность независимого развертывания
    - Дублирование
    - Режимы разделения (еще раз)
    - Заключение
17. Границы: проведение разделяющих линий
    - Пара печальных историй
    - FitNesse
    - Какие границы проводить и когда?
    - О вводе и выводе
    - Архитектура с плагинами
    - Аргумент в пользу плагинов
    - Заключение
18. Анатомия границ
    - Пересечение границ
    - Ужасный монолит
    - Компоненты развертывания
    - Потоки выполнения
    - Локальные процессы
    - Службы
    - Заключение
19. Политика и уровень
    - Уровень
    - Заключение
20. Бизнес-правила
    - Сущности
    - Варианты использования
    - Модели запросов и ответов
    - Заключение
21. Кричащая архитектура
    - Тема архитектуры
    - Цель архитектуры
    - А что насчет Веб?
    - Фреймворки — это инструменты, а не образ жизни
    - Тестируемые архитектуры
    - Заключение
22. Чистая архитектура
    - Правило зависимостей
    - Типичный сценарий
    - Заключение
23. Презентаторы и скромные объекты
    - Шаблон «Скромный объект»
    - Презентаторы и представления
    - Тестирование и архитектура
    - Шлюзы к базам данных
    - Преобразователи данных
    - Службы
    - Заключение
24. Неполные границы
    - Пропустить последний шаг
    - Одномерные границы
    - Фасады
    - Заключение
25. Уровни и границы
    - Охота на Вампуса
    - Чистая архитектура?
    - Пересечение потоков
    - Разбиение потоков
    - Заключение
26. Главный компонент
    - Конечная деталь
    - Заключение
27. Службы: большие и малые
    - Сервисная архитектура?
    - Преимущества служб?
    - Проблема с животными
    - Спасение в объектах
    - Службы на основе компонентов
    - Сквозные задачи
    - Заключение
28. Границы тестов
    - Тесты как компоненты системы
    - Проектирование для простоты тестирования
    - Программный интерфейс для тестирования
    - Безопасность
    - Заключение
29. Чистая встраиваемая архитектура
    - Тест на профпригодность
    - Привязка к оборудованию — узкое место
    - Заключение
30. База данных — это деталь
    - Реляционные базы данных
    - Почему системы баз данных настолько распространены?
    - Сохранятся ли диски?
    - Детали
    - А производительность?
    - История
    - Заключение
31. Веб — это деталь
    - Бесконечный маятник
    - Вывод
    - Заключение
32. Фреймворки — это деталь
    - Авторы фреймворков
    - Неравный брак
    - Риски
    - Решение
    - Объявляю вас
    - Заключение
33. Практический пример: продажа видео
    - Продукт
    - Анализ вариантов использования
    - Компонентная архитектура
    - Управление зависимостями
    - Заключение
34. Недостающая глава
    - Упаковка по уровням
    - Упаковка по особенностям
    - Порты и адаптеры
    - Упаковка по компонентам
    - Дьявол в деталях реализации
    - Организация и инкапсуляция
    - Другие режимы разделения
    - Заключение: недостающий совет